`timescale 1ns / 1ps
//btn = 80_005 ns

module tp_stopwatch();

    reg clk, reset, btn_r, btn_d, btn_c, btn_l;
    reg [15:0] sw;

    wire [3:0]fnd_digit;
    wire [7:0] fnd_data;
    wire [2:0] led;

    top_stopwatch_watch u_DUT (
    .clk(clk),
    .reset(reset),
    .btn_r(btn_r),      //i_run_stop
    .btn_d(btn_d),      //i_mode_select
    .btn_c(btn_c),      //digit_chage
    .btn_l(btn_l),      //i_clear
    .sw(sw),
    .fnd_digit(fnd_digit),
    .fnd_data(fnd_data),
    .led(led)
);

initial clk = 1'b0;
always #5 clk = ~clk;

initial begin
    #0;
    reset = 1'b1;
    btn_r = 1'b0;
    btn_d = 1'b0; 
    btn_c = 1'b0; 
    btn_l = 1'b0; 
    sw = 16'b0;

    #10;
    reset = 1'b0;
    btn_d = 1'b1;
    //mode = stopwatch
    sw[1:0] = 2'b10;
    
    //set_mode
    #200000;
    btn_d = 1'b1;
    #200000;
    btn_d = 1'b0;
    //run
    #200000;
    btn_r = 1'b1;
    #200000;
    btn_r = 1'b0;
    

    //save
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    //save
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    btn_d = 1'b1;
    #200000;
    btn_d = 1'b0;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    #200000;
    btn_d = 1'b1;
    #200000;
    btn_d = 1'b0;

    //stop
    #200000;
    btn_r = 1'b1;
    #200000;
    btn_r = 1'b0;
    //read
    #200000;
    sw[5:3] = 3'b001;
    #200000;
    sw[5:3] = 3'b010;

    #200000;
    btn_c = 1'b1;
    #200000;
    btn_c = 1'b0;
    #10;
    $stop;
    
end
endmodule
